============================= test session starts ==============================
platform darwin -- Python 3.13.2, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/opt/python@3.13/bin/python3.13
cachedir: .pytest_cache
rootdir: /Users/jhan_acc/projects/chat_project/py_chat_client
configfile: pytest.ini
plugins: mock-3.15.1, timeout-2.4.0, cov-7.0.0
timeout: 30.0s
timeout method: thread
timeout func_only: False
collecting ... collected 110 items

tests/app/test_chat_manager.py::TestChatManager::test_chat_manager_initialization PASSED [  0%]
tests/app/test_chat_manager.py::TestChatManager::test_is_logged_in_false PASSED [  1%]
tests/app/test_chat_manager.py::TestChatManager::test_is_logged_in_true PASSED [  2%]
tests/app/test_chat_manager.py::TestChatManager::test_is_connected_false PASSED [  3%]
tests/app/test_chat_manager.py::TestChatManager::test_is_connected_true PASSED [  4%]
tests/app/test_chat_manager.py::TestChatManager::test_connect_success PASSED [  5%]
tests/app/test_chat_manager.py::TestChatManager::test_connect_already_connected PASSED [  6%]
tests/app/test_chat_manager.py::TestChatManager::test_connect_failure PASSED [  7%]
tests/app/test_chat_manager.py::TestChatManager::test_disconnect_when_not_connected PASSED [  8%]
tests/app/test_chat_manager.py::TestChatManager::test_disconnect_when_connected PASSED [  9%]
tests/app/test_chat_manager.py::TestChatManager::test_try_login_when_not_connected PASSED [ 10%]
tests/app/test_chat_manager.py::TestChatManager::test_try_login_success PASSED [ 10%]
tests/app/test_chat_manager.py::TestChatManager::test_try_login_invalid_nickname_short PASSED [ 11%]
tests/app/test_chat_manager.py::TestChatManager::test_try_login_invalid_nickname_long PASSED [ 12%]
tests/app/test_chat_manager.py::TestChatManager::test_send_message_when_not_logged_in PASSED [ 13%]
tests/app/test_chat_manager.py::TestChatManager::test_send_message_when_logged_in PASSED [ 14%]
tests/app/test_chat_manager.py::TestChatManager::test_send_message_empty PASSED [ 15%]
tests/app/test_chat_manager.py::TestChatManager::test_start_daemon_success PASSED [ 16%]
tests/app/test_chat_manager.py::TestChatManager::test_start_daemon_not_connected PASSED [ 17%]
tests/app/test_event_manager.py::TestEventManager::test_event_manager_initialization PASSED [ 18%]
tests/app/test_event_manager.py::TestEventManager::test_subscribe_event PASSED [ 19%]
tests/app/test_event_manager.py::TestEventManager::test_subscribe_multiple_handlers PASSED [ 20%]
tests/app/test_event_manager.py::TestEventManager::test_unsubscribe_event PASSED [ 20%]
tests/app/test_event_manager.py::TestEventManager::test_unsubscribe_nonexistent_event PASSED [ 21%]
tests/app/test_event_manager.py::TestEventManager::test_fire_event_with_handler PASSED [ 22%]
tests/app/test_event_manager.py::TestEventManager::test_fire_event_without_handler PASSED [ 23%]
tests/app/test_event_manager.py::TestEventManager::test_fire_event_with_multiple_handlers PASSED [ 24%]
tests/app/test_event_manager.py::TestEventManager::test_fire_event_with_source_component PASSED [ 25%]
tests/app/test_event_manager.py::TestEventManager::test_fire_event_with_message PASSED [ 26%]
tests/app/test_event_manager.py::TestEventManager::test_multiple_event_types PASSED [ 27%]
tests/app/test_handlers.py::TestUserLoginResponseHandler::test_handle_successful_login PASSED [ 28%]
tests/app/test_handlers.py::TestUserLoginResponseHandler::test_handle_failed_login PASSED [ 29%]
tests/app/test_handlers.py::TestUserLoginResponseHandler::test_get_type PASSED [ 30%]
tests/app/test_handlers.py::TestChatTextBroadcastHandler::test_handle_chat_text_broadcast PASSED [ 30%]
tests/app/test_handlers.py::TestChatTextBroadcastHandler::test_handle_chat_text_broadcast_same_author PASSED [ 31%]
tests/app/test_handlers.py::TestErrorResponseHandler::test_handle_error_response PASSED [ 32%]
tests/app/test_handlers.py::TestSystemNoticeBroadcastHandler::test_handle_system_notice PASSED [ 33%]
tests/app/test_handlers.py::TestUserJoinBroadcastHandler::test_handle_user_join PASSED [ 34%]
tests/app/test_handlers.py::TestUserJoinBroadcastHandler::test_handle_user_join_same_user PASSED [ 35%]
tests/app/test_handlers.py::TestUserLeftBroadcastHandler::test_handle_user_left PASSED [ 36%]
tests/app/test_handlers.py::TestUserLeftBroadcastHandler::test_handle_user_left_same_user PASSED [ 37%]
tests/core/test_chat_client.py::TestChatClient::test_chat_client_initialization_success PASSED [ 38%]
tests/core/test_chat_client.py::TestChatClient::test_chat_client_initialization_custom_chunk_size PASSED [ 39%]
tests/core/test_chat_client.py::TestChatClient::test_chat_client_initialization_connection_failure PASSED [ 40%]
tests/core/test_chat_client.py::TestChatClient::test_register_on_message_callback PASSED [ 40%]
tests/core/test_chat_client.py::TestChatClient::test_register_on_error_callback PASSED [ 41%]
tests/core/test_chat_client.py::TestChatClient::test_send_login_request PASSED [ 42%]
tests/core/test_chat_client.py::TestChatClient::test_send_chat_text PASSED [ 43%]
tests/core/test_chat_client.py::TestChatClient::test_send_file_success PASSED [ 44%]
tests/core/test_chat_client.py::TestChatClient::test_send_file_not_found PASSED [ 45%]
tests/core/test_chat_client.py::TestChatClient::test_send_file_directory PASSED [ 46%]
tests/core/test_chat_client.py::TestChatClient::test_send_payload_with_disconnected_client PASSED [ 47%]
tests/core/test_chat_client.py::TestChatClient::test_start_chat_with_connected_client PASSED [ 48%]
tests/core/test_chat_client.py::TestChatClient::test_start_chat_with_disconnected_client PASSED [ 49%]
tests/core/test_chat_client.py::TestChatClient::test_shutdown_with_connected_client PASSED [ 50%]
tests/core/test_chat_client.py::TestChatClient::test_shutdown_with_disconnected_client PASSED [ 50%]
tests/core/test_chat_client.py::TestChatClient::test_disconnect PASSED   [ 51%]
tests/core/test_chat_client.py::TestChatClient::test_context_manager PASSED [ 52%]
tests/core/test_chat_client.py::TestChatClientFileTransfer::test_send_file_empty_file PASSED [ 53%]
tests/core/test_chat_client.py::TestChatClientFileTransfer::test_send_file_large_file PASSED [ 54%]
tests/core/test_chat_client.py::TestChatClientFileTransfer::test_send_file_permission_error PASSED [ 55%]
tests/core/test_chat_client.py::TestChatClientFileTransfer::test_send_file_io_error PASSED [ 56%]
tests/core/test_chat_client.py::TestChatClientFileTransfer::test_send_file_connection_error PASSED [ 57%]
tests/core/test_dto_request.py::TestChatTextRequest::test_create_valid_chat_text_request PASSED [ 58%]
tests/core/test_dto_request.py::TestChatTextRequest::test_create_empty_message PASSED [ 59%]
tests/core/test_dto_request.py::TestChatTextRequest::test_create_blank_message PASSED [ 60%]
tests/core/test_dto_request.py::TestChatTextRequest::test_chat_text_request_is_frozen PASSED [ 60%]
tests/core/test_dto_request.py::TestChatTextRequest::test_chat_text_request_json_serialization PASSED [ 61%]
tests/core/test_dto_request.py::TestUserLoginRequest::test_create_valid_user_login_request PASSED [ 62%]
tests/core/test_dto_request.py::TestUserLoginRequest::test_create_empty_nickname PASSED [ 63%]
tests/core/test_dto_request.py::TestUserLoginRequest::test_create_blank_nickname PASSED [ 64%]
tests/core/test_dto_request.py::TestUserLoginRequest::test_user_login_request_is_frozen PASSED [ 65%]
tests/core/test_dto_request.py::TestUserLoginRequest::test_user_login_request_json_serialization PASSED [ 66%]
tests/core/test_dto_request.py::TestFileStartRequest::test_create_valid_file_start_request PASSED [ 67%]
tests/core/test_dto_request.py::TestFileStartRequest::test_create_file_start_request_zero_size PASSED [ 68%]
tests/core/test_dto_request.py::TestFileStartRequest::test_create_file_start_request_large_size PASSED [ 69%]
tests/core/test_dto_request.py::TestFileStartRequest::test_create_file_start_request_empty_filename PASSED [ 70%]
tests/core/test_dto_request.py::TestFileStartRequest::test_file_start_request_is_frozen PASSED [ 70%]
tests/core/test_dto_request.py::TestFileStartRequest::test_file_start_request_json_serialization PASSED [ 71%]
tests/core/test_dto_request.py::TestFileEndRequest::test_create_valid_file_end_request PASSED [ 72%]
tests/core/test_dto_request.py::TestFileEndRequest::test_create_file_end_request_empty_checksum PASSED [ 73%]
tests/core/test_dto_request.py::TestFileEndRequest::test_create_file_end_request_long_checksum PASSED [ 74%]
tests/core/test_dto_request.py::TestFileEndRequest::test_file_end_request_is_frozen PASSED [ 75%]
tests/core/test_dto_request.py::TestFileEndRequest::test_file_end_request_json_serialization PASSED [ 76%]
tests/core/test_dto_response.py::TestChatTextBroadcast::test_create_valid_chat_text_broadcast PASSED [ 77%]
tests/core/test_dto_response.py::TestChatTextBroadcast::test_chat_text_broadcast_is_frozen PASSED [ 78%]
tests/core/test_dto_response.py::TestSystemNoticeBroadcast::test_create_valid_system_notice_broadcast PASSED [ 79%]
tests/core/test_dto_response.py::TestSystemNoticeBroadcast::test_system_notice_broadcast_is_frozen PASSED [ 80%]
tests/core/test_dto_response.py::TestErrorResponse::test_create_valid_error_response PASSED [ 80%]
tests/core/test_dto_response.py::TestErrorResponse::test_error_response_is_frozen PASSED [ 81%]
tests/core/test_dto_response.py::TestUserLoginResponse::test_create_valid_user_login_response_success PASSED [ 82%]
tests/core/test_dto_response.py::TestUserLoginResponse::test_create_valid_user_login_response_failure PASSED [ 83%]
tests/core/test_dto_response.py::TestUserLoginResponse::test_user_login_response_is_frozen PASSED [ 84%]
tests/core/test_dto_response.py::TestFileEndBroadcast::test_create_valid_file_end_broadcast PASSED [ 85%]
tests/core/test_dto_response.py::TestFileEndBroadcast::test_file_end_broadcast_is_frozen PASSED [ 86%]
tests/core/test_dto_response.py::TestFileStartBroadcast::test_create_valid_file_start_broadcast PASSED [ 87%]
tests/core/test_dto_response.py::TestFileStartBroadcast::test_file_start_broadcast_is_frozen PASSED [ 88%]
tests/core/test_dto_response.py::TestUserJoinBroadcast::test_create_valid_user_join_broadcast PASSED [ 89%]
tests/core/test_dto_response.py::TestUserJoinBroadcast::test_user_join_broadcast_is_frozen PASSED [ 90%]
tests/core/test_dto_response.py::TestUserLeaveBroadcast::test_create_valid_user_leave_broadcast PASSED [ 90%]
tests/core/test_dto_response.py::TestUserLeaveBroadcast::test_user_leave_broadcast_is_frozen PASSED [ 91%]
tests/core/test_message_type.py::TestMessageType::test_all_message_types_have_unique_values PASSED [ 92%]
tests/core/test_message_type.py::TestMessageType::test_get_valid_message_type_values PASSED [ 93%]
tests/core/test_message_type.py::TestMessageType::test_message_type_from_value PASSED [ 94%]
tests/core/test_message_type.py::TestMessageType::test_invalid_message_type_value PASSED [ 95%]
tests/core/test_message_type.py::TestMessageType::test_message_type_ordering PASSED [ 96%]
tests/core/test_message_type.py::TestMessageType::test_all_message_types_are_positive PASSED [ 97%]
tests/integration/test_integration.py::TestIntegration::test_connect_to_server SKIPPED [ 98%]
tests/integration/test_integration.py::TestIntegration::test_login_to_server SKIPPED [ 99%]
tests/integration/test_integration.py::TestIntegration::test_send_message_to_server SKIPPED [100%]

================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.13.2-final-0 _______________

Name                                                  Stmts   Miss  Cover   Missing
-----------------------------------------------------------------------------------
src/app/__init__.py                                       3      0   100%
src/app/chat_manager.py                                 158     62    61%   72-74, 90, 102-115, 118-124, 128, 135, 152-157, 160-191, 195-196, 200-201
src/app/events/__init__.py                                4      0   100%
src/app/events/event_data.py                              8      0   100%
src/app/events/event_hook.py                             21      2    90%   21-22
src/app/events/event_manager.py                          18      0   100%
src/app/events/event_type.py                             16      0   100%
src/app/handlers/__init__.py                              8      0   100%
src/app/handlers/chat_text_broadcast_handler.py          13      1    92%   18
src/app/handlers/error_response_handler.py               11      1    91%   15
src/app/handlers/handler.py                              10      2    80%   11, 15
src/app/handlers/system_notice_broadcast_handler.py      11      1    91%   15
src/app/handlers/user_join_broadcast_handler.py          13      1    92%   18
src/app/handlers/user_left_broadcast_handler.py          13      1    92%   17
src/app/handlers/user_login_response_handler.py          15      0   100%
src/configs/__init__.py                                   2      0   100%
src/configs/configuration.py                              8      0   100%
src/core/__init__.py                                      5      0   100%
src/core/chat_client.py                                  83      2    98%   70-71
src/core/dto/__init__.py                                  3      0   100%
src/core/dto/request.py                                  15      0   100%
src/core/dto/response.py                                 36      0   100%
src/core/enums/__init__.py                                2      0   100%
src/core/enums/message_type.py                           15      0   100%
src/core/wrapper/__init__.py                              5      0   100%
src/core/wrapper/loader/__init__.py                       2      0   100%
src/core/wrapper/loader/lib_loader.py                    16      3    81%   16, 20-21
src/core/wrapper/wrapper.py                              22      0   100%
src/main.py                                               5      5     0%   1-7
src/ui/__init__.py                                        4      4     0%   1-5
src/ui/command_handlers/__init__.py                       4      4     0%   1-5
src/ui/command_handlers/command_handler.py               10     10     0%   1-15
src/ui/command_handlers/nickname_command_handler.py      12     12     0%   1-18
src/ui/command_handlers/quit_command_handler.py          10     10     0%   1-16
src/ui/command_handlers/users_command_handler.py          9      9     0%   1-15
src/ui/command_type/__init__.py                           2      2     0%   1-3
src/ui/command_type/command_type.py                      22     22     0%   1-27
src/ui/interfaces/__init__.py                             2      2     0%   1-3
src/ui/interfaces/command_line_interface.py             112    112     0%   1-152
-----------------------------------------------------------------------------------
TOTAL                                                   728    268    63%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
======================== 107 passed, 3 skipped in 0.65s ========================
